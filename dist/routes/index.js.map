{"version":3,"sources":["../../src/routes/index.js"],"names":["router","use","config","db"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAGA,IAAIA,SAAS,wBAAb;;AAEA;AACA,kBAAa,cAAM;AACfA,WAAOC,GAAP,CAAW,0BAAW,EAAEC,wBAAF,EAAUC,MAAV,EAAX,CAAX;;AAEA;AACAH,WAAOC,GAAP,CAAW,QAAX,EAAqB,8BAAK,EAAEC,wBAAF,EAAUC,MAAV,EAAL,CAArB;AACAH,WAAOC,GAAP,CAAW,SAAX,EAAsB,+BAAM,EAAEC,wBAAF,EAAUC,MAAV,EAAN,CAAtB;AACAH,WAAOC,GAAP,CAAW,YAAX,EAAyB,kCAAS,EAAEC,wBAAF,EAAUC,MAAV,EAAT,CAAzB;AACAH,WAAOC,GAAP,CAAW,gBAAX,EAA6B,uCAAc,EAAEC,wBAAF,EAAUC,MAAV,EAAd,CAA7B;AACAH,WAAOC,GAAP,CAAW,QAAX,EAAqB,gCAAO,EAAEC,wBAAF,EAAUC,MAAV,EAAP,CAArB;AACAH,WAAOC,GAAP,CAAW,UAAX,EAAuB,gCAAO,EAAEC,wBAAF,EAAUC,MAAV,EAAP,CAAvB;AAEH,CAXD;;kBAaeH,M","file":"index.js","sourcesContent":["import express from 'express';\nimport config from '../config';\nimport middleware from '../middleware'\nimport initializeDb from '../db';\nimport user from '../controllers/userController';\nimport admin from '../controllers/adminController';\nimport election from '../controllers/electionController';\nimport electiongroup from '../controllers/electionGroupController';\nimport voting from '../controllers/votingController';\nimport device from '../controllers/deviceController';\n\n\nlet router = express();\n\n// connect to db\ninitializeDb(db => {\n    router.use(middleware({ config, db }));\n\n    // api routes v1\n    router.use('/users', user({ config, db}));\n    router.use('/admins', admin({ config, db}));\n    router.use('/elections', election({ config, db}));\n    router.use('/electiongroup', electiongroup({ config, db}));\n    router.use('/votes', voting({ config, db}));\n    router.use('/devices', device({ config, db}));\n\n});\n\nexport default router;"]}