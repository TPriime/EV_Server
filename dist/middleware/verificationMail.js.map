{"version":3,"sources":["../../src/middleware/verificationMail.js"],"names":["sendVerificationMail","transporter","nodemailer","createTransport","service","secrets","emailServiceProvider","auth","user","emailUserName","pass","emailUserPassword","mailOptions","from","to","userEmail","subject","text","sendMail","e","info","console","log","response"],"mappings":";;;;;;;AAAA;;;;AACA;;;;;;AAEO,IAAMA,sDAAuB,SAAvBA,oBAAuB,YAAa;;AAE7C,MAAMC,cAAcC,qBAAWC,eAAX,CAA2B;AAC3CC,aAASC,cAAQC,oBAD0B;AAE3CC,UAAM;AACNC,YAAMH,cAAQI,aADR;AAENC,YAAML,cAAQM;AAFR;AAFqC,GAA3B,CAApB;;AAQA,MAAMC,cAAc;AACpBC,UAAMR,cAAQI,aADM;AAEpBK,QAAIC,SAFgB;AAGpBC,aAAS,gCAHW;AAIpBC,UAAM;AAJc,GAApB;;AAOAhB,cAAYiB,QAAZ,CAAqBN,WAArB,EAAkC,UAACO,CAAD,EAAIC,IAAJ,EAAa;AAC7C,QAAID,CAAJ,EAAO;AACL;AACAE,cAAQC,GAAR,CAAYH,CAAZ;AACD,KAHD,MAGO;AACL,8BAAsBC,KAAKG,QAA3B;AACA;AACD;AACJ,GARC;AASH,CA1BM","file":"verificationMail.js","sourcesContent":["import nodemailer from 'nodemailer';\nimport secrets from './ENV.json';\n\nexport const sendVerificationMail = userEmail => {\n\n    const transporter = nodemailer.createTransport({\n        service: secrets.emailServiceProvider,\n        auth: {\n        user: secrets.emailUserName,\n        pass: secrets.emailUserPassword\n        }\n    });\n\n    const mailOptions = {\n    from: secrets.emailUserName,\n    to: userEmail,\n    subject: 'Voters Registration Successful',\n    text: 'Please visit an the nearest INEC office in 2 weeks time to pick up your card'\n  };\n\n    transporter.sendMail(mailOptions, (e, info) => {\n      if (e) {\n        // return(e);\n        console.log(e);\n      } else {\n        return(`Email sent: ${info.response}`);\n        // return true;\n      }\n  });\n}\n\n\n\n"]}