{"version":3,"sources":["../src/index.js"],"names":["app","server","http","createServer","use","express","json","limit","config","bodyLimit","urlencoded","extended","createParentPath","req","res","next","header","routes","listen","port","process","env","console","log","address"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AAGA;;;;AACA;;;;;;AAHA;;AAKA,IAAIA,MAAM,wBAAV;AACA,IAAIC,SAASC,eAAKC,YAAL,CAAkBH,GAAlB,CAAb;;AAEA;AACAA,IAAII,GAAJ,CAAQC,kBAAQC,IAAR,CAAa;AACjBC,WAAOC,iBAAOC;AADG,CAAb,CAAR;;AAIAT,IAAII,GAAJ,CAAQC,kBAAQK,UAAR,CAAmB,EAAEC,UAAU,KAAZ,EAAnB,CAAR;AACAX,IAAII,GAAJ,CAAQ,iCAAW;AACfQ,sBAAkB;AADH,CAAX,CAAR;AAGAZ,IAAII,GAAJ,CAAQ,UAASS,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC7BD,QAAIE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACAF,QAAIE,MAAJ,CAAW,kCAAX,EAA+C,MAA/C;AACAF,QAAIE,MAAJ,CAAW,8BAAX,EAA2C,gEAA3C;AACAF,QAAIE,MAAJ,CAAW,8BAAX,EAA2C,wCAA3C;AACAD;AACH,CAND;;AAQA;AACAf,IAAII,GAAJ,CAAQ,iBAAR,EAA2Ba,gBAA3B;;AAEAhB,OAAOiB,MAAP,CAAcV,iBAAOW,IAAP,IAAeC,QAAQC,GAAR,CAAYF,IAAzC;AACAG,QAAQC,GAAR,6BAAsCtB,OAAOuB,OAAP,GAAiBL,IAAvD;;kBAEenB,G","file":"index.js","sourcesContent":["import http from 'http';\nimport express from 'express';\nimport fileUpload from 'express-fileupload';\n// import jwt from 'jsonwebtoken';\n\nimport config from './config';\nimport routes from './routes';\n\nlet app = express();\nlet server = http.createServer(app);\n\n// defaults\napp.use(express.json({\n    limit: config.bodyLimit\n}));\n\napp.use(express.urlencoded({ extended: false }));\napp.use(fileUpload({\n    createParentPath: true\n}));\napp.use(function(req, res, next) {\n    res.header(\"Access-Control-Allow-Origin\", \"*\",);\n    res.header(\"Access-Control-Allow-Credentials\", \"true\");\n    res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept, x-access-token\");\n    res.header(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE, OPTIONS, PATCH\");\n    next();\n});\n\n// api routes v1\napp.use('/evoting_api/v1', routes);\n\nserver.listen(config.port || process.env.port);\nconsole.log(`server running on port ${server.address().port}`);\n\nexport default app;"]}